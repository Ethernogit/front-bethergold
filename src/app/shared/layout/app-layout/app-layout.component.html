<div class="min-h-screen xl:flex">
  <div>
    <app-sidebar></app-sidebar>
    <app-backdrop></app-backdrop>
  </div>
  <div class="flex-1 transition-all duration-300 ease-in-out" [ngClass]="{
        'lg:ml-[290px]': (isExpanded$ | async) || (isHovered$ | async),
        'lg:ml-[90px]': !(isExpanded$ | async) && !(isHovered$ | async),
        'ml-0': (isMobileOpen$ | async)
      }">
    <!-- app header removed (integrated into sidebar) -->
    <!-- <app-header/> -->

    <!-- Mobile Sidebar Toggle -->
    <div class="lg:hidden p-4 pb-0">
      <button (click)="sidebarService.toggleMobileOpen()"
        class="p-2 -ml-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="currentColor">
          <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z" />
        </svg>
      </button>
    </div>

    <div class="p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
<app-change-password-modal *ngIf="changePasswordModalVisible$ | async"
  (close)="uiService.closeChangePasswordModal()"></app-change-password-modal>